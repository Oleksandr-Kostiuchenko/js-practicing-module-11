{"version":3,"file":"task-1.js","sources":["../src/js/task-1.js"],"sourcesContent":["//TODO: Отримання списку постів (GET)\n//? Напиши функцію getPosts(), яка отримує список постів із https://jsonplaceholder.typicode.com/posts і виводить їх у консоль.\n//? Відобрази заголовки постів у списку на сторінці.\n//? Оброби помилку (catch), якщо сервер недоступний.\n\n//* Load library\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//* Find elements\nconst postsContainer = document.querySelector('.posts-container');\nconst getPostBtn = document.querySelector('.get-post-btn');\nconst postContainer = document.querySelector('.post-container');\nconst idInput = document.querySelector('.user-id-input');\nconst idBtn = document.querySelector('.get-info-btn');\n\nconst titleInput = document.querySelector('.post-title-input');\nconst contentInput = document.querySelector('.post-content-input');\nconst createBtn = document.querySelector('.create-btn');\nlet postsHTML = [];\n\n\n//* Add event listener & function\nconst onGetPostClick = event => {\n    fetch('https://jsonplaceholder.typicode.com/posts')\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        }\n    ).then(postData => {\n        postsHTML = [];\n        console.log(postData);\n\n        postData.forEach(post => {\n            postsHTML.push(`\n            <div class=\"post-container\">\n                <h2 class=\"post-title\">${post.title}</h2>\n                <p class=\"post-content\">${post.body}</p>\n                <p class=\"post-id\">POST ID:${post.id}</p>\n            </div>`\n            );\n        });\n\n        postsContainer.insertAdjacentHTML('beforeend', postsHTML.join(''));\n    })\n    .catch(err => {\n        console.log(err);\n    })\n}\n\ngetPostBtn.addEventListener('click', onGetPostClick);\n\n//TODO: Отримання інформації про пост за ID (GET)\n//? Створи функцію getUser(id), яка приймає id і виконує запит на https://jsonplaceholder.typicode.com/users/{id}.\n//? Відобрази ім'я та email користувача в консоль.\n//? Якщо користувача немає (404), виведи повідомлення \"Користувача не знайдено\".\n\nconst getUser = async id => {\n    try {\n        const response = await fetch(`https://jsonplaceholder.typicode.com/users/${id}`);\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n\n        const postData = await response.json();\n        return {\n            name: postData.name,\n            email: postData.email\n        };\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nidBtn.addEventListener('click', async event => {\n    if (idInput.value.trim() === '') {\n        return;\n    }\n\n    try {\n        const user = await getUser(idInput.value);\n\n        iziToast.info({\n            timeout: 7000,\n            overlay: true,\n            title: 'User Info:',\n            titleSize: '55',\n            message: `Name: ${user.name} | Email: ${user.email}`,\n            messageSize: '50',\n            position: 'center',\n            drag: false,\n        });\n\n        idInput.value = '';\n    } catch (err) {\n        iziToast.error({\n            timeout: 2000,\n            overlay: true,\n            title: 'Error',\n            titleSize: '55',\n            message: `User is not found!`,\n            messageSize: '50',\n            position: 'center',\n            drag: false,\n        });\n    }\n\n        idInput.value = '';\n})\n\n//TODO:  Створення нового поста (POST)\n//? Напиши функцію createPost(title, body), яка створює новий пост через POST-запит на https://jsonplaceholder.typicode.com/posts\nconst createPost = (postInfo) => {\n    const fetchOptions = {\n    method: 'POST',\n    body: JSON.stringify(postInfo),\n    headers: {\n        'content-type': 'application/json',\n    },\n    };\n\n    return fetch('https://jsonplaceholder.typicode.com/posts', fetchOptions)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n\n            return response.json();\n        })\n        .then(newPost => {\n            postsHTML.push(\n                `\n            <div class=\"post-container\">\n                <h2 class=\"post-title\">${newPost.title}</h2>\n                <p class=\"post-content\">${newPost.body}</p>\n                <p class=\"post-id\">POST ID:${newPost.id}</p>\n            </div>\n            `\n            );\n\n            postsContainer.insertAdjacentHTML('beforeend', postsHTML[postsHTML.length - 1])\n        })\n}\n\n\n\ncreateBtn.addEventListener('click', event => {\n    if (titleInput.value.trim() === '' || contentInput.value.trim() === '') {\n        return;\n    }\n\n    createPost({\n    title: `${titleInput.value}`,\n    body: `${contentInput.value}`\n    })\n    .then(book => {\n        console.log(book);\n\n        titleInput.value = '';\n        contentInput.value = '';\n    })\n})"],"names":["postsContainer","getPostBtn","idInput","idBtn","titleInput","contentInput","createBtn","postsHTML","onGetPostClick","event","response","postData","post","err","getUser","id","user","iziToast","createPost","postInfo","fetchOptions","newPost","book"],"mappings":"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"}