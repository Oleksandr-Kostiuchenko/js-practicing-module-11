/* empty css                      */import{i as y}from"./assets/vendor-I1I71QQ2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();//! =============================== Отримання списку постів (GET) ===============================
const v=document.querySelector(".posts-container"),P=document.querySelector(".get-post-btn");document.querySelector(".post-container");const a=document.querySelector(".user-id-input"),w=document.querySelector(".get-info-btn"),d=document.querySelector(".post-title-input"),p=document.querySelector(".post-content-input"),L=document.querySelector(".create-btn"),f=document.querySelector(".post-title-update"),m=document.querySelector(".post-content-update"),h=document.querySelector(".update-id-input"),$=document.querySelector(".update-btn"),i=document.querySelector(".load-btn");i.classList.add("is-hidden");let g=[],u=1,S=[];const c=r=>{fetch(`https://67911779af8442fd7378ff4e.mockapi.io/UserPosts?limit=10&page=${u}`).then(t=>{if(!t.ok)throw new Error(t.status);return v.innerHTML="",i.classList.add("is-hidden"),t.json()}).then(t=>{S=[],t.forEach(e=>{g.push(`
                    <div class="post-container">
                        <h2 class="post-title">${e.title} - ${e.author}</h2>
                        <p class="post-content">${e.content}</p>
                        <p class="post-id">POST ID:${e.id}</p>
                    </div>
                    `),S.push(`
                    <div class="post-container">
                        <h2 class="post-title">${e.title} - ${e.author}</h2>
                        <p class="post-content">${e.content}</p>
                        <p class="post-id">POST ID:${e.id}</p>
                    </div>
                    `)}),v.insertAdjacentHTML("beforeend",g.join("")),i.classList.remove("is-hidden")})};P.addEventListener("click",c);i.addEventListener("click",r=>{if(u===10){i.classList.add("is-hidden");return}u++,console.log(u),c()});//! =============================== Отримання інформації про користувача за ID ===============================
const q=async r=>{try{const t=await fetch(`https://67911779af8442fd7378ff4e.mockapi.io/UserPosts/${r}`);if(!t.ok)throw new Error(t.status);const e=await t.json();return{name:e.author,email:e.email}}catch(t){console.log(t)}};w.addEventListener("click",async r=>{if(a.value.trim()!=="")try{const t=await q(a.value.trim());a.value="",y.info({timeout:7e3,overlay:!0,title:"User Info:",titleSize:"55",message:`Name: ${t.name} | Email: ${t.email}`,messageSize:"50",position:"center",drag:!1}),a.value=""}catch{y.error({timeout:2e3,overlay:!0,title:"Error",titleSize:"55",message:"User is not found!",messageSize:"50",position:"center",drag:!1})}});//! =============================== Створення нового поста (POST) ===============================
const E=r=>{try{const t={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};return fetch("https://67911779af8442fd7378ff4e.mockapi.io/UserPosts",t).then(e=>{if(!e.ok)throw new Error(e.status);return c(),e.json()})}catch(t){console.log(t)}};L.addEventListener("click",async r=>{if(!(d.value.trim()===""||p.value.trim()===""))try{const t={author:"Alex",email:"test@gmail.com",title:`${d.value}`,content:`${p.value}`},e=await E(t);d.value="",p.value=""}catch(t){console.log(t)}});//! =============================== Оновлення поста (PUT) ===============================
const O=(r,t,e)=>{try{const o={method:"PUT",body:JSON.stringify({title:t,content:e}),headers:{"Content-Type":"application/json"}};fetch(`https://67911779af8442fd7378ff4e.mockapi.io/UserPosts/${r}`,o).then(n=>{if(!n.ok)throw new Error(n.status);return c(),n.json()})}catch(s){console.log(s)}};$.addEventListener("click",async r=>{if(!(h.value.trim()===""||f.value.trim()===""||m.value.trim()===""))try{const t=await O(h.value.trim(),f.value.trim(),m.value.trim());c(),h.value="",f.value="",m.value=""}catch(t){console.log(t)}});
//# sourceMappingURL=task-1.js.map
